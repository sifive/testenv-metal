/**
 * {{ ucomp }} registers
 * @file {{ filename }}
 *
 * @note This file has been automatically generated from the {{ucomp}} object model.
 *
 * @copyright (c) 2020 SiFive, Inc
 * @copyright SPDX-License-Identifier: MIT
 */

#ifndef SIFIVE_{{ ucomp }}_H_
#define SIFIVE_{{ ucomp }}_H_

#include <stdint.h>

/* following defines should be used for structure members */
#define __IM   volatile const   /**< Defines 'read only' structure member permissions */
#define __OM   volatile         /**< Defines 'write only' structure member permissions */
#define __IOM  volatile         /**< Defines 'read / write' structure member permissions */

typedef struct _{{ ucomp }} {
{%- for name, (perm, type_, name, desc) in cgroups.items() %}
    {{perm}} {{type_}} {{name}}{%- if desc -%}/**< {{desc}} */{%- endif -%}
{%- endfor %}
} {{ ucomp }}_Type;
{% for name, (group, gdesc) in fgroups.items() %}
{%- if name in bgroups %}
/**
 * Structure type to access {{gdesc}} ({{name}})
 */
{%- set type_, bitfield, padders = bgroups[name] %}
typedef union _{{ucomp}}_{{name}} {
    struct {
        {%- for (btype, bname, bdesc) in bitfield %}
        {{btype}} {{bname}} /**< {{bdesc}} */
        {%- endfor %}
    } b; {{padders[0]}} /**< Structure used for bit access */
    {{type_}} w; {{padders[1]}} /**< Structure used for word access */
} {{ucomp}}_{{name}}_Type;
{% endif %}
/* {{ucomp}} {% if gdesc %}{{gdesc}}{% endif %} */
    {%- for field in group %}
        {%- for name, value, desc in field %}
#define {{name}} {{value}} {% if desc %}/**< {{desc}} */{% endif -%}
        {% endfor %}
{% endfor -%}
{% endfor %}
#endif /* SIFIVE_{{ ucomp }}_H_ */

